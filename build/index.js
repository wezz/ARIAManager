/*!
 * 
 *   @wezz/ariamanager v0.0.2
 *   https://github.com/wezz/ARIAManager
 *
 *   Copyright (c) Wezz Balk (https://github.com/wezz)
 *
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ariamanager=e():t.ariamanager=e()}(self,(function(){return(()=>{"use strict";var t={283:(t,e)=>{var a=function(){function t(t){var e=this;void 0===t&&(t=document),this.controlelements=[],this.controlselector="[aria-controls]:not([data-ariamanager-ignore])",this.delayAttribute="data-ariamanager-delay",this.InitiateElements(t),window.addEventListener("global-markupchange",(function(t){var a,n,i;e.InitiateElements(null!==(i=null===(n=null===(a=t)||void 0===a?void 0:a.detail)||void 0===n?void 0:n.target)&&void 0!==i?i:document)}))}return t.prototype.InitiateElements=function(t){var e=this;void 0===t&&(t=document);var a=[].slice.call(t.querySelectorAll(this.controlselector)).filter((function(t){return"activated"!==t.dataset.ariamanager}));a.forEach((function(t){e.bindEvents(t),t.dataset.ariamanager="activated"})),this.controlelements=[].concat(this.controlelements,a)},t.prototype.AriaExpand=function(t,e){t&&(this.bindEventsToTargetElements(t),t.dispatchEvent(this.customEvent("set-aria-expanded",{target:t,value:e})))},t.prototype.AriaHidden=function(t,e){t&&(this.bindEventsToTargetElements(t),t.dispatchEvent(this.customEvent("set-aria-hidden",{target:t,value:e})))},t.prototype.GetARIAControllerFromTarget=function(t){var e=t.getAttribute("id")+"";return e?this.controlelements.filter((function(t){return-1!==(t.getAttribute("aria-controls")+"").indexOf(e)})):[]},t.prototype.GetARIAControlTargets=function(t){var e=(t.getAttribute("aria-controls")+"").split(" "),a=[],n=function(t,e){return 0===t.indexOf(e)};return e.forEach((function(t){t=(n(t,"#")||n(t,".")?"":"#")+t;var e=document.querySelector(t);e&&a.push(e)})),a},t.prototype.onButtonClick=function(t){var e=this,a=this.getDelayValue(t);t.dispatchEvent(this.customEvent("beforeClick",{delay:a,elm:t})),window.setTimeout((function(){t.dispatchEvent(e.customEvent("adjustTargetStates",{elm:t}))}),a)},t.prototype.bindEvents=function(t){var e=this,a=t;this.bindEventsToControlElements(a),this.GetARIAControlTargets(a).forEach((function(t){e.bindEventsToTargetElements(t)}))},t.prototype.bindEventsToTargetElements=function(t){"true"!==t.dataset.ariamanager_eventbindings&&(t.addEventListener("set-aria-hidden",this.setAriaHidden.bind(this)),t.addEventListener("set-aria-expanded",this.setAriaExpanded.bind(this)),t.dataset.ariamanager_eventbindings="true")},t.prototype.bindEventsToControlElements=function(t){t.addEventListener("click",this.onButtonClick.bind(this,t)),t.addEventListener("beforeClick",this.beforeClickEvent.bind(this,t)),t.addEventListener("adjustTargetStates",this.adjustTargetStates.bind(this,t)),t.addEventListener("updateButtonState",this.updateButtonState.bind(this,t))},t.prototype.updateButtonState=function(t,e){var a,n,i=e.detail.target,r=(n="aria-hidden",(a=i).hasAttribute(n)?a.getAttribute(n):null);t.hasAttribute("aria-pressed")&&t.setAttribute("aria-pressed",("false"===r)+""),t.hasAttribute("aria-expanded")&&t.setAttribute("aria-expanded",("false"===r)+"")},t.prototype.setAriaHidden=function(t){var e=this,a=t.detail.target,n=t.detail.value,i=this.GetARIAControllerFromTarget(a);a.setAttribute("aria-hidden",n),a.dispatchEvent(this.customEvent("aria-hidden-change",{target:a,value:n})),i.forEach((function(t){t.dispatchEvent(e.customEvent("updateButtonState",{target:a}))}))},t.prototype.setAriaExpanded=function(t){var e=this,a=t.detail.target,n=t.detail.value,i=this.GetARIAControllerFromTarget(a);a.hasAttribute("data-aria-expanded")&&a.setAttribute("data-aria-expanded",n+""),a.dispatchEvent(this.customEvent("aria-expanded-change",{target:a,value:n})),i.forEach((function(t){t.dispatchEvent(e.customEvent("updateButtonState",{target:a}))}))},t.prototype.beforeClickEvent=function(t,e){},t.prototype.adjustTargetStates=function(t,e){var a=this;this.GetARIAControlTargets(t).forEach((function(e){if(e.hasAttribute("aria-hidden")){var n="true"===e.getAttribute("aria-hidden");a.AriaHidden(e,!n)}if(t.hasAttribute("aria-expanded")||e.hasAttribute("data-aria-expanded")){n="true"===e.getAttribute("aria-hidden");a.AriaExpand(e,!n)}}))},t.prototype.getDelayValue=function(t){var e=0,a=t.getAttribute(this.delayAttribute);if("string"==typeof a&&a.length>0){var n=parseInt(a,10);isNaN(n)||(e=n)}return e},t.prototype.customEvent=function(t,e){return new CustomEvent(t,{detail:e})},t}();e.Z=a},138:(t,e,a)=>{a.r(e),a.d(e,{default:()=>n});const n=a(283).Z}},e={};function a(n){if(e[n])return e[n].exports;var i=e[n]={exports:{}};return t[n](i,i.exports,a),i.exports}return a.d=(t,e)=>{for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a(138)})()}));
//# sourceMappingURL=index.js.map