/*!
 * 
 *   @wezz/ariamanager v0.0.1
 *   https://github.com/wezz/ARIAManager
 *
 *   Copyright (c) Wezz Balk (https://github.com/wezz)
 *
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ARIAManager=e():t.ARIAManager=e()}(self,(function(){return(()=>{"use strict";var t={283:(t,e)=>{var n=function(){function t(t){var e=this;void 0===t&&(t=document),this.controlelements=[],this.controlselector="[aria-controls]",this.delayAttribute="data-ariamanager-delay",this.InitiateElements(t),window.addEventListener("global-markupchange",(function(t){var n,a,i;e.InitiateElements(null!==(i=null===(a=null===(n=t)||void 0===n?void 0:n.detail)||void 0===a?void 0:a.target)&&void 0!==i?i:document)}))}return t.prototype.InitiateElements=function(t){var e=this;void 0===t&&(t=document);var n=[].slice.call(t.querySelectorAll(this.controlselector)).filter((function(t){return"activated"!==t.dataset.ariamanager}));n.forEach((function(t){e.bindEvents(t),t.dataset.ariamanager="activated"})),this.controlelements=[].concat(this.controlelements,n)},t.prototype.AriaExpand=function(t,e){t&&(this.bindEventsToTargetElements(t),t.dispatchEvent(this.customEvent("set-aria-expanded",{target:t,value:e})))},t.prototype.AriaHidden=function(t,e){t&&(this.bindEventsToTargetElements(t),t.dispatchEvent(this.customEvent("set-aria-hidden",{target:t,value:e})))},t.prototype.GetARIAControllerFromTarget=function(t){var e=t.getAttribute("id")+"";return e?this.controlelements.filter((function(t){return-1!==(t.getAttribute("aria-controls")+"").indexOf(e)})):[]},t.prototype.GetARIAControlTargets=function(t){var e=(t.getAttribute("aria-controls")+"").split(" "),n=[],a=function(t,e){return 0===t.indexOf(e)};return e.forEach((function(t){t=(a(t,"#")||a(t,".")?"":"#")+t;var e=document.querySelector(t);e&&n.push(e)})),n},t.prototype.onButtonClick=function(t){var e=this,n=this.getDelayValue(t);t.dispatchEvent(this.customEvent("beforeClick",{delay:n,elm:t})),window.setTimeout((function(){t.dispatchEvent(e.customEvent("adjustTargetStates",{elm:t}))}),n)},t.prototype.bindEvents=function(t){var e=this,n=t;this.bindEventsToControlElements(n),this.GetARIAControlTargets(n).forEach((function(t){e.bindEventsToTargetElements(t)}))},t.prototype.bindEventsToTargetElements=function(t){"true"!==t.dataset.ariamanager_eventbindings&&(t.addEventListener("set-aria-hidden",this.setAriaHidden.bind(this)),t.addEventListener("set-aria-expanded",this.setAriaExpanded.bind(this)),t.dataset.ariamanager_eventbindings="true")},t.prototype.bindEventsToControlElements=function(t){t.addEventListener("click",this.onButtonClick.bind(this,t)),t.addEventListener("beforeClick",this.beforeClickEvent.bind(this,t)),t.addEventListener("adjustTargetStates",this.adjustTargetStates.bind(this,t)),t.addEventListener("updateButtonState",this.updateButtonState.bind(this,t))},t.prototype.updateButtonState=function(t,e){var n,a,i=e.detail.target,r=(a="aria-hidden",(n=i).hasAttribute(a)?n.getAttribute(a):null);t.hasAttribute("aria-pressed")&&t.setAttribute("aria-pressed",("false"===r)+""),t.hasAttribute("aria-expanded")&&t.setAttribute("aria-expanded",("false"===r)+"")},t.prototype.setAriaHidden=function(t){var e=this,n=t.detail.target,a=t.detail.value,i=this.GetARIAControllerFromTarget(n);n.setAttribute("aria-hidden",a),n.dispatchEvent(this.customEvent("aria-hidden-change",{target:n,value:a})),i.forEach((function(t){t.dispatchEvent(e.customEvent("updateButtonState",{target:n}))}))},t.prototype.setAriaExpanded=function(t){var e=this,n=t.detail.target,a=t.detail.value,i=this.GetARIAControllerFromTarget(n);n.hasAttribute("data-aria-expanded")&&n.setAttribute("data-aria-expanded",a+""),n.dispatchEvent(this.customEvent("aria-expanded-change",{target:n,value:a})),i.forEach((function(t){t.dispatchEvent(e.customEvent("updateButtonState",{target:n}))}))},t.prototype.beforeClickEvent=function(t,e){},t.prototype.adjustTargetStates=function(t,e){var n=this;this.GetARIAControlTargets(t).forEach((function(e){if(e.hasAttribute("aria-hidden")){var a="true"===e.getAttribute("aria-hidden");n.AriaHidden(e,!a)}if(t.hasAttribute("aria-expanded")||e.hasAttribute("data-aria-expanded")){a="true"===e.getAttribute("aria-hidden");n.AriaExpand(e,!a)}}))},t.prototype.getDelayValue=function(t){var e=0,n=t.getAttribute(this.delayAttribute);if("string"==typeof n&&n.length>0){var a=parseInt(n,10);isNaN(a)||(e=a)}return e},t.prototype.customEvent=function(t,e){return new CustomEvent(t,{detail:e})},t}();e.Z=n},138:(t,e,n)=>{n.r(e),n.d(e,{default:()=>a});const a=n(283).Z}},e={};function n(a){if(e[a])return e[a].exports;var i=e[a]={exports:{}};return t[a](i,i.exports,n),i.exports}return n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(138)})()}));
//# sourceMappingURL=index.js.map